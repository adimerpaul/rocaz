import{_ as c,D as m,E as _,F as t,G as e,H as s,al as p,aj as i,bd as h,ak as d,K as n,Q as g}from"./index.4efbd016.js";import{a as f,Q as w}from"./QForm.c02b9a1c.js";import{Q as x,a as v}from"./QPageContainer.a5ea1942.js";import"./QScrollObserver.277d29e1.js";const b={data(){return{user:{username:"",password:""},showPassword:!1,loading:!1}},mounted(){this.$store.isLogin&&this.$router.push("/")},methods:{login(){this.loading=!0,this.$axios.post("login",this.user).then(l=>{this.loading=!1,localStorage.setItem("tokenRocaz",l.data.token),this.$store.user=l.data.user,this.$store.isLogin=!0,this.$axios.defaults.headers.common.Authorization="Bearer "+l.data.token,this.$router.push("/"),this.$alert.success("Bienvenido "+l.data.user.name)}).catch(l=>{this.loading=!1,this.$alert.error(l.response.data.message)})}}},y={class:"row"},Q={class:"col-12 col-md-4 offset-md-4"},P=s("img",{alt:"Logo",src:"logo.png",style:{width:"150px","padding-top":"20px"}},null,-1),k={class:"row"},V=s("div",{class:"col-12 text-subtitle1 text-center text-bold",style:{"line-height":"1.0"}},[s("div",{class:"text-subtitle2"},"Bienvenido a"),s("div",{class:"text-h5 text-bold q-mb-md"},[s("span",{class:"text-caption text-grey"}," Control de Acceso ")])],-1),B={class:"col-12"},L={class:"col-12"},C={class:"col-12"};function I(l,r,S,$,o,u){return m(),_(x,null,{default:t(()=>[e(v,null,{default:t(()=>[e(f,{class:"dark-overlay"},{default:t(()=>[s("div",y,[s("div",Q,[e(p,{class:"q-ma-md",flat:"",bordered:""},{default:t(()=>[e(i,{class:"flex flex-center"},{default:t(()=>[P]),_:1}),e(i,null,{default:t(()=>[e(w,{onSubmit:h(u.login,["prevent"])},{default:t(()=>[s("div",k,[V,s("div",B,[e(d,{modelValue:o.user.username,"onUpdate:modelValue":r[0]||(r[0]=a=>o.user.username=a),label:"Usuario",outlined:"",rounded:"",type:"username",rules:[a=>a.length>3||"El usuario debe tener al menos 4 caracteres"]},{prepend:t(()=>[e(n,{name:"o_person"})]),_:1},8,["modelValue","rules"])]),s("div",L,[e(d,{modelValue:o.user.password,"onUpdate:modelValue":r[2]||(r[2]=a=>o.user.password=a),label:"Password",type:o.showPassword?"text":"password",outlined:"",rounded:"",rules:[a=>a.length>5||"La contrase\xF1a debe tener al menos 6 caracteres"]},{prepend:t(()=>[e(n,{name:"o_lock"})]),append:t(()=>[e(n,{name:o.showPassword?"o_visibility":"o_visibility_off",onClick:r[1]||(r[1]=a=>o.showPassword=!o.showPassword)},null,8,["name"])]),_:1},8,["modelValue","type","rules"])]),s("div",C,[e(g,{color:"primary",label:"Ingresar",class:"q-mt-md text-bold full-width",rounded:"",type:"submit",loading:o.loading},null,8,["loading"])])])]),_:1},8,["onSubmit"])]),_:1})]),_:1})])])]),_:1})]),_:1})]),_:1})}var E=c(b,[["render",I]]);export{E as default};
