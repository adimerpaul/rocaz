import{e as B,f as k,h as O,q as E,_ as V,G as _,H as f,I as d,J as i,K as t,L as u,C as w,Q as g,aq as v,ba as z,O as n,ar as p,M as m,aw as P,at as I,as as C,F as x,bb as N,au as D}from"./index.eb674307.js";import{Q as h}from"./QSelect.ebb6de68.js";import{Q as R}from"./QPage.fd0652ed.js";import{C as F}from"./CardComponent.2f826a50.js";import{Q as A}from"./QSpace.74aab46c.js";import{Q as S}from"./QTooltip.5f87dc94.js";import{Q as G}from"./QForm.98c27abb.js";import{Q as T}from"./QImg.8700765d.js";import{C as U}from"./ClosePopup.fc6edb9c.js";import{Q as L,a as M}from"./QTable.647ae8c2.js";import{P as J}from"./ProductsComponents.cd27e158.js";import"./format.d211420c.js";import"./QItem.0bbda112.js";import"./QList.3061caa3.js";import"./QMarkupTable.64e3460e.js";const j=["top","middle","bottom"];var H=B({name:"QBadge",props:{color:String,textColor:String,floating:Boolean,transparent:Boolean,multiLine:Boolean,outline:Boolean,rounded:Boolean,label:[Number,String],align:{type:String,validator:l=>j.includes(l)}},setup(l,{slots:o}){const c=k(()=>l.align!==void 0?{verticalAlign:l.align}:null),b=k(()=>{const e=l.outline===!0&&l.color||l.textColor;return`q-badge flex inline items-center no-wrap q-badge--${l.multiLine===!0?"multi":"single"}-line`+(l.outline===!0?" q-badge--outline":l.color!==void 0?` bg-${l.color}`:"")+(e!==void 0?` text-${e}`:"")+(l.floating===!0?" q-badge--floating":"")+(l.rounded===!0?" q-badge--rounded":"")+(l.transparent===!0?" q-badge--transparent":"")});return()=>O("div",{class:b.value,style:c.value,role:"status","aria-label":l.label},E(o.default,l.label!==void 0?[l.label]:[]))}});const K={name:"DialogProducto",props:{productData:{type:Object,required:!1},categories:{type:Array,required:!1},productActionData:{type:String,required:!0},medidasData:{type:Array,required:!1}},data(){return{loading:!1,imagen:null,productAction:this.productActionData,medidas:this.medidasData||[],product:this.productData||{codigo:"",nombre:"",image:"",ubicacion:"",minStock:"",stock1:"",stock2:"",precio1:"",precio2:"",precio3:"",precio4:"",precio5:"",precio6:"",category_id:1,medida_id:1}}},methods:{openCategoryDialog(){this.$q.dialog({title:"Nueva categor\xEDa",prompt:{model:"",type:"text"},cancel:!0,persistent:!0}).onOk(l=>{this.loading=!0,this.$axios.post("categories",{name:l}).then(o=>{this.$emit("categoryCreated",o.data),this.product.category_id=o.data.id}).finally(()=>{this.loading=!1})})},productDeleted(l){this.$q.dialog({title:"Eliminar producto",message:"\xBFEst\xE1s seguro de eliminar este producto?",cancel:!0,persistent:!0}).onOk(()=>{this.loading=!0,this.$axios.delete(`products/${l}`).then(()=>{this.$emit("productDeleted",l)}).finally(()=>{this.loading=!1}).catch(o=>{this.$alert.error(o.response.data)})})},openMedidaDialog(){this.$q.dialog({title:"Nueva medida",prompt:{model:"",type:"text"},cancel:!0,persistent:!0}).onOk(l=>{this.loading=!0,this.$axios.post("medidas",{nombre:l}).then(o=>{this.medidas.push(o.data),this.product.medida_id=o.data.id}).finally(()=>{this.loading=!1})})},openFilePicker(){this.$refs.fileInput.click()},createProduct(){const l=new FormData;l.append("file",this.$refs.fileInput.files[0]),l.append("product",JSON.stringify(this.product)),this.loading=!0,this.$axios.post("products",l,{headers:{"Content-Type":"multipart/form-data"}}).then(o=>{this.$emit("productSaved",o.data)}).finally(()=>{this.loading=!1}).catch(o=>{this.$alert.error(o.response.data.message)})},saveProduct(){if(this.productAction!=="show"&&(this.productAction==="create"&&this.createProduct(),this.productAction==="edit")){const l=new FormData;l.append("file",this.imagen),l.append("product",JSON.stringify(this.product)),this.loading=!0,this.$axios.post("productsUpdate",l,{headers:{"Content-Type":"multipart/form-data"}}).then(o=>{this.$emit("productUpdated",o.data)}).finally(()=>{this.loading=!1}).catch(o=>{this.$alert.error(o.response.data.message)})}},handleFileChange(){const l=event.target.files[0];l&&(this.imagen=l,this.product.image=URL.createObjectURL(l))}}},W={class:"text-subtitle2 text-bold text-grey"},X={class:"row"},Y=t("div",{class:"col-12 text-bold"}," Subir imagen ",-1),Z={class:"col-12 flex flex-center q-pb-xs"},$=["src"],ee={class:"col-5 col-md-4"},oe={class:"col-7 col-md-8"},te={class:"col-12 col-md-4"},le={class:"col-6 col-md-8"},ie={class:"col-6 col-md-4"},se={class:"col-6 col-md-4"},de={class:"col-6 col-md-4"},ce={class:"col-6 col-md-4"},ae={class:"col-6 col-md-4"},re={class:"col-6 col-md-4"},ne={class:"col-6 col-md-4"},ue={class:"col-6 col-md-4"},pe={class:"col-6 col-md-4"},me={class:"col-6 col-md-4"},ge={class:"col-6 col-md-8"},he={class:"col-12"},_e={key:1},ve={class:"row"},be={class:"col-12 text-center"},xe={class:"absolute-bottom text-center text-subtitle2",style:{padding:"0px 0px"}},fe={class:"col-12"},ye={class:"col-12"},Ce={class:"col-6"},Ve={class:"text-bold text-grey"},ke={class:"col-6"},Pe={class:"text-grey text-caption text-right"},De={class:"col-6"},Se={class:"text-bold text-grey"},we={class:"col-6"},Ae={class:"text-grey text-caption text-right"},Ue={class:"col-6"},qe={class:"text-bold text-grey"},Qe={class:"col-6"},Be={class:"text-grey text-caption text-right"},Oe={class:"col-6"},Ee={class:"text-bold text-grey"},ze={class:"col-6"},Ie={class:"text-grey text-caption text-right"},Ne={class:"col-6"},Re={class:"text-bold text-grey"},Fe={class:"col-6"},Ge={class:"text-grey text-caption text-right"},Te={class:"col-6"},Le={class:"text-bold text-grey"},Me={class:"col-6"},Je={class:"text-grey text-caption text-right"},je={class:"col-6"},He={class:"text-bold text-grey"},Ke={class:"col-6"},We={class:"text-grey text-caption text-right"},Xe={class:"col-6"},Ye={class:"text-bold text-grey"},Ze={class:"col-6"},$e={class:"text-grey text-caption text-right"},eo={class:"col-6"},oo={class:"text-bold text-grey"},to={class:"col-6"},lo={class:"text-grey text-caption text-right"},io={class:"col-6"},so={class:"text-bold text-grey"},co={class:"col-6"},ao={class:"text-grey text-caption text-right"},ro={class:"col-6"},no={class:"text-bold text-grey"},uo={class:"col-6"},po={class:"text-grey text-caption text-right"},mo={class:"row q-pa-xs"},go={class:"col-6"},ho={class:"col-6"};function _o(l,o,c,b,e,a){return _(),f(C,{style:{width:"500px","max-width":"80vw"}},{default:d(()=>[i(v,{class:"row items-center q-pb-none"},{default:d(()=>[t("div",W,u(e.productAction==="create"?"Nuevo producto":e.productAction==="show"?"Detalle de producto":e.productAction==="edit"?"Editar producto":""),1),i(A),w(i(g,{icon:"o_highlight_off",flat:"",round:"",dense:""},null,512),[[U]])]),_:1}),i(v,null,{default:d(()=>[e.productAction==="create"||e.productAction==="edit"?(_(),f(G,{key:0,onSubmit:a.saveProduct},{default:d(()=>[t("div",X,[Y,t("div",Z,[i(z,{onClick:a.openFilePicker,size:"130px",class:"cursor-pointer"},{default:d(()=>[t("img",{src:e.product.image.includes("http")?e.product.image:`${l.$url}../images/${e.product.image}`,width:"100%",height:"100%",style:{"border-radius":"10px"}},null,8,$),i(H,{floating:"",color:"grey"},{default:d(()=>[i(n,{name:"o_camera_alt",size:"xs"})]),_:1})]),_:1},8,["onClick"]),t("input",{type:"file",ref:"fileInput",style:{display:"none"},onChange:o[0]||(o[0]=(...s)=>a.handleFileChange&&a.handleFileChange(...s)),accept:"image/*"},null,544)]),t("div",ee,[i(p,{modelValue:e.product.codigo,"onUpdate:modelValue":o[1]||(o[1]=s=>e.product.codigo=s),label:"C\xF3digo",outlined:"",dense:"",hint:""},null,8,["modelValue"])]),t("div",oe,[i(p,{modelValue:e.product.nombre,"onUpdate:modelValue":o[2]||(o[2]=s=>e.product.nombre=s),label:"Nombre producto*",outlined:"",dense:"",rules:[s=>s.length>2||"El nombre debe tener al menos 3 caracteres"]},null,8,["modelValue","rules"])]),t("div",te,[i(h,{modelValue:e.product.medida_id,"onUpdate:modelValue":o[3]||(o[3]=s=>e.product.medida_id=s),options:e.medidas,label:"Medida",outlined:"",dense:"","emit-value":"","map-options":"","option-label":s=>s.nombre,"option-value":s=>s.id,rules:[s=>s!=null||"Selecciona una medida"]},{after:d(()=>[i(n,{name:"add_circle_outline",color:"green",class:"cursor-pointer",onClick:a.openMedidaDialog},{default:d(()=>[i(S,null,{default:d(()=>[m("Crear nueva medida")]),_:1})]),_:1},8,["onClick"])]),_:1},8,["modelValue","options","option-label","option-value","rules"])]),t("div",le,[i(p,{modelValue:e.product.ubicacion,"onUpdate:modelValue":o[4]||(o[4]=s=>e.product.ubicacion=s),label:"Ubicaci\xF3n",outlined:"",dense:"",class:P(l.$q.screen.lt.md?"":"q-ml-md"),hint:""},null,8,["modelValue","class"])]),t("div",ie,[i(p,{modelValue:e.product.minStock,"onUpdate:modelValue":o[5]||(o[5]=s=>e.product.minStock=s),label:"Stock m\xEDnimo",outlined:"",dense:"",type:"number",hint:""},null,8,["modelValue"])]),t("div",se,[i(p,{modelValue:e.product.stock1,"onUpdate:modelValue":o[6]||(o[6]=s=>e.product.stock1=s),label:"Stock 1",outlined:"",dense:"",type:"number",hint:""},null,8,["modelValue"])]),t("div",de,[i(p,{modelValue:e.product.stock2,"onUpdate:modelValue":o[7]||(o[7]=s=>e.product.stock2=s),label:"Stock 2",outlined:"",dense:"",type:"number",hint:""},null,8,["modelValue"])]),t("div",ce,[i(p,{modelValue:e.product.precio1,"onUpdate:modelValue":o[8]||(o[8]=s=>e.product.precio1=s),label:"Precio 1",outlined:"",dense:"",step:"0.01",type:"number",hint:""},null,8,["modelValue"])]),t("div",ae,[i(p,{modelValue:e.product.precio2,"onUpdate:modelValue":o[9]||(o[9]=s=>e.product.precio2=s),label:"Precio 2",outlined:"",dense:"",step:"0.01",type:"number",hint:""},null,8,["modelValue"])]),t("div",re,[i(p,{modelValue:e.product.precio3,"onUpdate:modelValue":o[10]||(o[10]=s=>e.product.precio3=s),label:"Precio 3",outlined:"",dense:"",step:"0.01",type:"number",hint:""},null,8,["modelValue"])]),t("div",ne,[i(p,{modelValue:e.product.precio4,"onUpdate:modelValue":o[11]||(o[11]=s=>e.product.precio4=s),label:"Precio 4",outlined:"",dense:"",step:"0.01",type:"number",hint:""},null,8,["modelValue"])]),t("div",ue,[i(p,{modelValue:e.product.precio5,"onUpdate:modelValue":o[12]||(o[12]=s=>e.product.precio5=s),label:"Precio 5",outlined:"",dense:"",step:"0.01",type:"number",hint:""},null,8,["modelValue"])]),t("div",pe,[i(p,{modelValue:e.product.precio6,"onUpdate:modelValue":o[13]||(o[13]=s=>e.product.precio6=s),label:"Precio 6",outlined:"",dense:"",step:"0.01",type:"number",hint:""},null,8,["modelValue"])]),t("div",me,[i(p,{modelValue:e.product.costo,"onUpdate:modelValue":o[14]||(o[14]=s=>e.product.costo=s),label:"Costo",outlined:"",dense:"",step:"0.01",type:"number",hint:""},null,8,["modelValue"])]),t("div",ge,[i(h,{modelValue:e.product.category_id,"onUpdate:modelValue":o[15]||(o[15]=s=>e.product.category_id=s),options:c.categories,label:"Categor\xEDa",outlined:"",dense:"","emit-value":"","map-options":"","option-label":s=>s.name,"option-value":s=>s.id,rules:[s=>s!=null||"Selecciona una categor\xEDa"]},{after:d(()=>[i(n,{name:"add_circle_outline",color:"green",class:"cursor-pointer",onClick:a.openCategoryDialog},{default:d(()=>[i(S,null,{default:d(()=>[m("Crear nueva categor\xEDa")]),_:1})]),_:1},8,["onClick"])]),_:1},8,["modelValue","options","option-label","option-value","rules"])]),t("div",he,[i(g,{type:"submit",label:`${e.productAction==="create"?"Crear":e.productAction==="edit"?"Guardar":""}`,color:`${e.productAction==="create"?"green":e.productAction==="edit"?"orange":""}`,class:"full-width","no-caps":"",rounded:"",loading:e.loading},null,8,["label","color","loading"])])])]),_:1},8,["onSubmit"])):(_(),I("div",_e,[t("div",ve,[t("div",be,[i(T,{src:e.product.image.includes("http")?e.product.image:`${l.$url}../images/${e.product.image}`,width:"200px",style:{"border-radius":"10px"}},{default:d(()=>[t("div",xe,u(e.product.nombre),1)]),_:1},8,["src"])]),t("div",fe,[t("div",{class:P(`text-bold text-${e.product.stock<=e.product.minStock?"red":e.product.stock<=e.product.minStock*2?"yellow-9":"black"} text-center`)},[t("div",null,u(e.product.stock)+" Disponible",1),t("div",null,"Min Stock: "+u(e.product.minStock),1)],2)]),t("div",ye,[i(C,null,{default:d(()=>[i(v,{class:"row"},{default:d(()=>{var s;return[t("div",Ce,[t("div",Ve,[i(n,{name:"o_qr_code_2",class:"text-grey",size:"20px"}),m(" Codigo ")])]),t("div",ke,[t("div",Pe,u(e.product.codigo),1)]),t("div",De,[t("div",Se,[i(n,{name:"o_paid",class:"text-grey",size:"20px"}),m(" Precio 1 ")])]),t("div",we,[t("div",Ae,u(e.product.precio1)+" Bs",1)]),t("div",Ue,[t("div",qe,[i(n,{name:"o_paid",class:"text-grey",size:"20px"}),m(" Precio 2 ")])]),t("div",Qe,[t("div",Be,u(e.product.precio2)+" Bs",1)]),t("div",Oe,[t("div",Ee,[i(n,{name:"o_paid",class:"text-grey",size:"20px"}),m(" Precio 3 ")])]),t("div",ze,[t("div",Ie,u(e.product.precio3)+" Bs",1)]),t("div",Ne,[t("div",Re,[i(n,{name:"o_paid",class:"text-grey",size:"20px"}),m(" Precio 4 ")])]),t("div",Fe,[t("div",Ge,u(e.product.precio4)+" Bs",1)]),t("div",Te,[t("div",Le,[i(n,{name:"o_paid",class:"text-grey",size:"20px"}),m(" Precio 5 ")])]),t("div",Me,[t("div",Je,u(e.product.precio5)+" Bs",1)]),t("div",je,[t("div",He,[i(n,{name:"o_paid",class:"text-grey",size:"20px"}),m(" Precio 6 ")])]),t("div",Ke,[t("div",We,u(e.product.precio6)+" Bs",1)]),t("div",Xe,[t("div",Ye,[i(n,{name:"o_shopping_cart",class:"text-grey",size:"20px"}),m(" Stock 1 ")])]),t("div",Ze,[t("div",$e,u(e.product.stock1),1)]),t("div",eo,[t("div",oo,[i(n,{name:"o_shopping_cart",class:"text-grey",size:"20px"}),m(" Stock 2 ")])]),t("div",to,[t("div",lo,u(e.product.stock2),1)]),t("div",io,[t("div",so,[i(n,{name:"o_local_mall",class:"text-grey",size:"20px"}),m(" Categoria ")])]),t("div",co,[t("div",ao,u((s=e.product.category)==null?void 0:s.name),1)]),t("div",ro,[t("div",no,[i(n,{name:"o_local_mall",class:"text-grey",size:"20px"}),m(" Costo ")])]),t("div",uo,[t("div",po,u(e.product.costo),1)])]}),_:1})]),_:1}),t("div",mo,[t("div",go,[i(g,{label:"Editar",color:"orange",class:"full-width","no-caps":"",rounded:"",onClick:o[16]||(o[16]=s=>e.productAction="edit"),icon:"o_edit"})]),t("div",ho,[i(g,{label:"Eliminar",color:"red",class:"full-width","no-caps":"",outline:"",rounded:"",onClick:o[17]||(o[17]=s=>a.productDeleted(e.product.id)),icon:"o_delete"})])])])])]))]),_:1})]),_:1})}var vo=V(K,[["render",_o]]);const bo={props:{categories:{type:Array,default:()=>[]}},data(){return{filter:"",loading:!1}},methods:{categoryEdit(l){this.$q.dialog({title:"Editar categor\xEDa",message:"Ingrese el nombre de la categor\xEDa",prompt:{model:l.name,type:"text"},cancel:!0,persistent:!0}).onOk(o=>{this.$axios.put(`categories/${l.id}`,{name:o}).then(c=>{this.$emit("categoryUpdated",c.data)}).catch(c=>{this.$alert.error(c.response.data.message)})})},categoryDelete(l){this.$q.dialog({title:"Eliminar categor\xEDa",message:"\xBFEst\xE1 seguro de eliminar la categor\xEDa?",cancel:!0,persistent:!0}).onOk(()=>{this.$axios.delete(`categories/${l.id}`).then(o=>{this.$emit("categoryDeleted",o.data)}).catch(o=>{this.$alert.error(o.response.data.message)})})}}},xo=t("div",{class:"text-subtitle2 text-bold text-grey"}," Control de categor\xEDas ",-1),fo={class:"row"},yo={class:"col-12"};function Co(l,o,c,b,e,a){return _(),f(C,{style:{width:"500px","max-width":"80vw"}},{default:d(()=>[i(v,{class:"row items-center q-pb-none"},{default:d(()=>[xo,i(A),w(i(g,{icon:"o_highlight_off",flat:"",round:"",dense:""},null,512),[[U]])]),_:1}),i(v,null,{default:d(()=>[t("div",fo,[t("div",yo,[i(L,{rows:c.categories,dense:"","rows-per-page-options":[0],columns:[{name:"name",label:"Nombre",align:"left",field:"name"},{name:"actions",label:"Acciones",align:"center",field:"id"}],flat:"",bordered:"",filter:e.filter},{"top-right":d(()=>[i(p,{modelValue:e.filter,"onUpdate:modelValue":o[0]||(o[0]=s=>e.filter=s),label:"Buscar",dense:"",outlined:""},{prepend:d(()=>[i(n,{name:"o_search"})]),_:1},8,["modelValue"])]),"body-cell-actions":d(s=>[i(M,{props:s},{default:d(()=>[i(g,{icon:"o_edit",flat:"",round:"",dense:"",onClick:y=>a.categoryEdit(s.row)},null,8,["onClick"]),i(g,{icon:"o_delete",flat:"",round:"",dense:"",onClick:y=>a.categoryDelete(s.row)},null,8,["onClick"])]),_:2},1032,["props"])]),_:1},8,["rows","filter"])])])]),_:1})]),_:1})}var Vo=V(bo,[["render",Co]]);const ko={name:"ProductosPage",components:{ProductsComponents:J,DialogCategory:Vo,cardComponent:F,DialogProducto:vo},data(){return{vista:"tabla",precio:"PRECIO 1",almacenSelected:"Todo",productDialog:!1,categoriesDialog:!1,productAction:"",search:"",categories:[{id:"",name:"Selecciona una categor\xEDa"}],loading:!1,categoriSelected:"",ordenes:["Selecciona un orden","Alfab\xE9tico","Producto m\xE1s vendido","Producto menos vendido","Ultimas unidades disponibles"],ordenSelected:"Selecciona un orden",products:[],productsAll:[],product:{},medidas:[],medida:{}}},mounted(){this.categoriesGet(),this.productsGet(),this.medidasGet()},methods:{downloadReport(){const l=[{sheet:"Productos",columns:[{label:"C\xF3digo",value:"codigo"},{label:"Nombre",value:"nombre"},{label:"Ubicaci\xF3n",value:"ubicacion"},{label:"Stock",value:"stock"},{label:"Stock m\xEDnimo",value:"minStock"},{label:"Precio 1",value:"precio1"},{label:"Precio 2",value:"precio2"},{label:"Precio 3",value:"precio3"},{label:"Precio 4",value:"precio4"},{label:"Precio 5",value:"precio5"},{label:"Precio 6",value:"precio6"},{label:"Categor\xEDa",value:"category_id"},{label:"Medida",value:"medida_id"}],content:this.products}];this.$excel.export(l)},categoryDeleted(l){this.categories=this.categories.filter(o=>o.id!==l.id)},categoryUpdated(l){this.categories=this.categories.map(o=>o.id===l.id?l:o)},categoryCreated(l){this.categories.push(l)},searchProductsOrder(l){l===""&&(this.products=this.productsAll),l==="Alfab\xE9tico"&&(this.products=this.productsAll.sort((o,c)=>o.nombre.localeCompare(c.nombre))),l==="Producto m\xE1s vendido"&&(this.products=this.productsAll.sort((o,c)=>c.cantidadVentas-o.cantidadVentas)),l==="Producto menos vendido"&&(this.products=this.productsAll.sort((o,c)=>o.cantidadVentas+c.cantidadVentas)),l==="Ultimas unidades disponibles"&&(this.products=this.productsAll.sort((o,c)=>o.stock-c.stock))},searchProductsCategory(l){console.log(l),l===""?this.products=this.productsAll:this.products=this.productsAll.filter(o=>o.category_id===l)},productDeleted(l){this.productDialog=!1,this.index=this.products.findIndex(o=>o.id===l.id),this.products.splice(this.index,1)},productUpdated(l){this.productDialog=!1,this.products=this.products.map(o=>o.id===l.id?l:o)},clickDetalleProducto(l){this.productAction="show",this.product={...l},this.productDialog=!0},productSaved(l){this.productDialog=!1,this.products.push(l)},medidasGet(){this.$axios.get("medidas").then(l=>{this.medidas=this.medidas.concat(l.data)})},clickProducto(){this.productAction="create",this.product={codigo:"",nombre:"",image:"default.png",ubicacion:"",minStock:"",stock1:"",stock2:"",precio1:"",precio2:"",precio3:"",precio4:"",precio5:"",precio6:"",category_id:1,medida_id:1},this.productDialog=!0},searchProducts(){this.search===""?this.products=this.productsAll:this.products=this.productsAll.filter(l=>l.nombre.toLowerCase().includes(this.search.toLowerCase()))},categoriesGet(){this.$axios.get("categories").then(l=>{this.categories=this.categories.concat(l.data)})},productsGet(){this.loading=!0,this.$axios.get("products").then(l=>{this.loading=!1,this.products=l.data,this.productsAll=l.data})}},computed:{ganancias(){return this.products.length===0?0:this.products.reduce((o,c)=>o+(c==null?void 0:c.stock)*(c==null?void 0:c.costo),0).toFixed(2)}}},Po={class:"row"},Do={class:"col-12 col-md-3"},So={class:"col-6 col-md-3"},wo={class:"col-6 col-md-2 text-right"},Ao={class:"col-6 col-md-4 text-right"},Uo={class:"col-12 col-md-6 q-pa-xs"},qo={class:"col-12 col-md-6 q-pa-xs"},Qo={class:"col-4 col-md-2"},Bo={class:"col-8 col-md-3"},Oo={class:"col-4 col-md-2"},Eo={class:"col-12 col-md-2 text-right"},zo={class:"col-12 col-md-3 text-right"},Io={class:"col-12"};function No(l,o,c,b,e,a){const s=x("cardComponent"),y=x("ProductsComponents"),q=x("DialogProducto"),Q=x("DialogCategory");return _(),f(R,{class:"bg-grey-3 q-pa-xs"},{default:d(()=>[t("div",Po,[t("div",Do,[i(p,{modelValue:e.search,"onUpdate:modelValue":[o[0]||(o[0]=r=>e.search=r),a.searchProducts],label:"Buscar",outlined:"",dense:"",class:"bg-white",loading:e.loading},{prepend:d(()=>[i(n,{name:"o_search"})]),_:1},8,["modelValue","onUpdate:modelValue","loading"])]),t("div",So,[i(g,{label:"Descargar reporte",color:"primary",icon:"cloud_download",flat:"","no-caps":"",loading:e.loading,onClick:a.downloadReport},null,8,["loading","onClick"])]),t("div",wo,[i(N,{"model-value":"vista",label:e.vista,color:"primary",dense:"",modelValue:e.vista,"onUpdate:modelValue":o[1]||(o[1]=r=>e.vista=r),"false-value":"lista","true-value":"tabla"},null,8,["label","modelValue"])]),t("div",Ao,[i(g,{label:"Crear producto",color:"green",icon:"add_circle_outline","no-caps":"",rounded:"",onClick:a.clickProducto,loading:e.loading},null,8,["onClick","loading"])]),t("div",Uo,[i(s,{color:"grey",title:"Cantidad de productos",monto:e.products.length,icono:"o_shopping_cart"},null,8,["monto"])]),t("div",qo,[i(s,{color:"green",title:"Ganancias",monto:a.ganancias,icono:"o_attach_money"},null,8,["monto"])]),t("div",Qo,[i(h,{modelValue:e.categoriSelected,"onUpdate:modelValue":[o[2]||(o[2]=r=>e.categoriSelected=r),a.searchProductsCategory],options:e.categories,label:"Categor\xEDa",outlined:"",dense:"",class:"bg-white","emit-value":"","map-options":"","option-label":r=>r.name,"option-value":r=>r.id},null,8,["modelValue","options","option-label","option-value","onUpdate:modelValue"])]),t("div",Bo,[i(h,{modelValue:e.ordenSelected,"onUpdate:modelValue":[o[3]||(o[3]=r=>e.ordenSelected=r),a.searchProductsOrder],options:e.ordenes,label:"Ordenar por",outlined:"",dense:"",class:"bg-white","emit-value":""},null,8,["modelValue","options","onUpdate:modelValue"])]),t("div",Oo,[i(h,{modelValue:e.almacenSelected,"onUpdate:modelValue":o[4]||(o[4]=r=>e.almacenSelected=r),options:["Todo","Almacen 1","Almacen 2"],label:"Almacen",outlined:"",dense:"",class:"bg-white","emit-value":""},null,8,["modelValue"])]),t("div",Eo,[i(h,{modelValue:e.precio,"onUpdate:modelValue":o[5]||(o[5]=r=>e.precio=r),options:["PRECIO 1","PRECIO 2","PRECIO 3","PRECIO 4","PRECIO 5","PRECIO 6"],label:"Precio",outlined:"",dense:"",class:"bg-white","emit-value":""},null,8,["modelValue"])]),t("div",zo,[i(g,{label:"Categorias",color:"black",icon:"o_edit",outline:"","no-caps":"",rounded:"",class:"bg-white",onClick:o[6]||(o[6]=r=>e.categoriesDialog=!0)})]),t("div",Io,[i(y,{products:e.products,onClickDetalleProducto:a.clickDetalleProducto,precio:e.precio,almacenSelected:e.almacenSelected,vista:e.vista},null,8,["products","onClickDetalleProducto","precio","almacenSelected","vista"])])]),i(D,{modelValue:e.productDialog,"onUpdate:modelValue":o[8]||(o[8]=r=>e.productDialog=r),position:"right",maximized:""},{default:d(()=>[i(q,{productData:e.product,categories:e.categories,medidasData:e.medidas,onCloseDialog:o[7]||(o[7]=r=>e.productDialog=!1),productActionData:e.productAction,onProductSaved:a.productSaved,onProductUpdated:a.productUpdated,onProductDeleted:a.productDeleted,onCategoryCreated:a.categoryCreated},null,8,["productData","categories","medidasData","productActionData","onProductSaved","onProductUpdated","onProductDeleted","onCategoryCreated"])]),_:1},8,["modelValue"]),i(D,{modelValue:e.categoriesDialog,"onUpdate:modelValue":o[9]||(o[9]=r=>e.categoriesDialog=r),position:"right",maximized:""},{default:d(()=>[i(Q,{categories:e.categories.filter(r=>r.id!==""),onCategoryUpdated:a.categoryUpdated,onCategoryDeleted:a.categoryDeleted},null,8,["categories","onCategoryUpdated","onCategoryDeleted"])]),_:1},8,["modelValue"])]),_:1})}var et=V(ko,[["render",No]]);export{et as default};
