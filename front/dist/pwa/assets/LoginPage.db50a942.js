import{_ as c,G as m,H as p,I as o,J as e,K as s,as as _,aq as n,bd as h,ar as d,O as i,Q as f}from"./index.d60641e3.js";import{Q as g}from"./QForm.bbd6c304.js";import{Q as w}from"./QPage.5768df49.js";import{Q as x,a as v}from"./QPageContainer.9f242366.js";import"./QScrollObserver.4f52c482.js";const b={data(){return{user:{username:"",password:""},showPassword:!1,loading:!1}},mounted(){this.$store.isLogin&&this.$router.push("/")},methods:{login(){this.loading=!0,this.$axios.post("login",this.user).then(l=>{this.loading=!1,localStorage.setItem("tokenRocaz",l.data.token),this.$store.user=l.data.user,this.$store.isLogin=!0,this.$axios.defaults.headers.common.Authorization="Bearer "+l.data.token,this.$router.push("/"),this.$alert.success("Bienvenido "+l.data.user.name)}).catch(l=>{this.loading=!1,this.$alert.error(l.response.data.message)})}}},y={class:"row"},Q={class:"col-12 col-md-4 offset-md-4"},P=s("img",{alt:"Logo",src:"logo.png",style:{width:"150px","padding-top":"20px"}},null,-1),k={class:"row"},V=s("div",{class:"col-12 text-subtitle1 text-center text-bold",style:{"line-height":"1.0"}},[s("div",{class:"text-subtitle2"},"Bienvenido a"),s("div",{class:"text-h5 text-bold q-mb-md"},[s("span",{class:"text-caption text-grey"}," Control de Acceso ")])],-1),B={class:"col-12"},L={class:"col-12"},C={class:"col-12"};function I(l,r,q,S,t,u){return m(),p(x,null,{default:o(()=>[e(v,null,{default:o(()=>[e(w,{class:"dark-overlay"},{default:o(()=>[s("div",y,[s("div",Q,[e(_,{class:"q-ma-md",flat:"",bordered:""},{default:o(()=>[e(n,{class:"flex flex-center"},{default:o(()=>[P]),_:1}),e(n,null,{default:o(()=>[e(g,{onSubmit:h(u.login,["prevent"])},{default:o(()=>[s("div",k,[V,s("div",B,[e(d,{modelValue:t.user.username,"onUpdate:modelValue":r[0]||(r[0]=a=>t.user.username=a),label:"Usuario",outlined:"",rounded:"",type:"username",rules:[a=>a.length>2||"El usuario debe tener al menos 4 caracteres"]},{prepend:o(()=>[e(i,{name:"o_person"})]),_:1},8,["modelValue","rules"])]),s("div",L,[e(d,{modelValue:t.user.password,"onUpdate:modelValue":r[2]||(r[2]=a=>t.user.password=a),label:"Password",type:t.showPassword?"text":"password",outlined:"",rounded:"",rules:[a=>a.length>2||"La contrase\xF1a debe tener al menos 6 caracteres"]},{prepend:o(()=>[e(i,{name:"o_lock"})]),append:o(()=>[e(i,{name:t.showPassword?"o_visibility":"o_visibility_off",onClick:r[1]||(r[1]=a=>t.showPassword=!t.showPassword)},null,8,["name"])]),_:1},8,["modelValue","type","rules"])]),s("div",C,[e(f,{color:"primary",label:"Ingresar",class:"q-mt-md text-bold full-width",rounded:"",type:"submit",loading:t.loading},null,8,["loading"])])])]),_:1},8,["onSubmit"])]),_:1})]),_:1})])])]),_:1})]),_:1})]),_:1})}var E=c(b,[["render",I]]);export{E as default};
